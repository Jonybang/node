version: '3'

services: 
  parity: 
    image: parity/parity:v1.9.4
    ports: 
      - 8545
      - 8546
    command: --config /config/node.toml
    volumes: 
      - ./config:/config:ro
    networks:
      - nnet

  monitor:
    image: buythewhale/ethstats_monitor
    volumes:
      - ./monitor/app.json:/home/ethnetintel/eth-net-intelligence-api/app.json:ro
    networks:
      - nnet
    depends_on:
      - parity

  dashboard:
    image: buythewhale/ethstats
    volumes:
      - ./dashboard/ws_secret.json:/eth-netstats/ws_secret.json:ro
    ports:
      - 3001:3000
    networks:
      - nnet
    depends_on:
      - parity

networks:
  nnet:
